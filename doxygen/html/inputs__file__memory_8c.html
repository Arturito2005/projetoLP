<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: inputs_file_memory.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('inputs__file__memory_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">inputs_file_memory.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="inputs__file__memory_8c.html" title="inputs_file_memory.c file, Manage program memory and data storage">inputs_file_memory.c</a> file, Manage program memory and data storage  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="inputs__file__memory_8h_source.html">inputs_file_memory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="op__user_8h_source.html">op_user.h</a>&quot;</code><br />
</div>
<p><a href="inputs__file__memory_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a50dfabc824a8692a181638a22c35b06e" id="r_a50dfabc824a8692a181638a22c35b06e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50dfabc824a8692a181638a22c35b06e">load_file</a> (<a class="el" href="struct_companies.html">Companies</a> *companies, <a class="el" href="struct_branch___activity.html">Branch_Activity</a> *branchs, <a class="el" href="struct_search__comp.html">Search_comp</a> *<a class="el" href="op__user_8c.html#a9893a99c08dfe5046e293645a92d0f34">search_comp</a>)</td></tr>
<tr class="memdesc:a50dfabc824a8692a181638a22c35b06e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the information saved in the file and allocate dynamic memory based on it.  <br /></td></tr>
<tr class="separator:a50dfabc824a8692a181638a22c35b06e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79732699653e0d318db1767fd777696f" id="r_a79732699653e0d318db1767fd777696f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79732699653e0d318db1767fd777696f">save_file_comp</a> (<a class="el" href="struct_companies.html">Companies</a> *companies)</td></tr>
<tr class="memdesc:a79732699653e0d318db1767fd777696f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the company data to a file.  <br /></td></tr>
<tr class="separator:a79732699653e0d318db1767fd777696f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6442270bbcaf1f5b37c99b4726838e86" id="r_a6442270bbcaf1f5b37c99b4726838e86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6442270bbcaf1f5b37c99b4726838e86">save_file_branchs</a> (<a class="el" href="struct_branch___activity.html">Branch_Activity</a> *branchs)</td></tr>
<tr class="memdesc:a6442270bbcaf1f5b37c99b4726838e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the branch activity data to a file.  <br /></td></tr>
<tr class="separator:a6442270bbcaf1f5b37c99b4726838e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0319a334b810b5ffc04577ab6009047" id="r_af0319a334b810b5ffc04577ab6009047"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0319a334b810b5ffc04577ab6009047">save_search_comp</a> (<a class="el" href="struct_search__comp.html">Search_comp</a> *<a class="el" href="op__user_8c.html#a9893a99c08dfe5046e293645a92d0f34">search_comp</a>)</td></tr>
<tr class="memdesc:af0319a334b810b5ffc04577ab6009047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the search data to a file.  <br /></td></tr>
<tr class="separator:af0319a334b810b5ffc04577ab6009047"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="inputs__file__memory_8c.html" title="inputs_file_memory.c file, Manage program memory and data storage">inputs_file_memory.c</a> file, Manage program memory and data storage </p>
<dl class="section author"><dt>Author</dt><dd>Studentes: 8230138 and 8230127 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>22-10-2023 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) ESTG 2023. All Rights MIT Licensed.</dd></dl>
<p>In <a class="el" href="inputs__file__memory_8c.html" title="inputs_file_memory.c file, Manage program memory and data storage">inputs_file_memory.c</a>, there are all the inputs, responsible for saving all the data from the program into a file, and also the necessary input to load the data from the file into the corresponding struct and to allocate dynamic memory for them. </p>

<p class="definition">Definition in file <a class="el" href="inputs__file__memory_8c_source.html">inputs_file_memory.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a50dfabc824a8692a181638a22c35b06e" name="a50dfabc824a8692a181638a22c35b06e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50dfabc824a8692a181638a22c35b06e">&#9670;&#160;</a></span>load_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_companies.html">Companies</a> *</td>          <td class="paramname"><span class="paramname"><em>companies</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_branch___activity.html">Branch_Activity</a> *</td>          <td class="paramname"><span class="paramname"><em>branchs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_search__comp.html">Search_comp</a> *</td>          <td class="paramname"><span class="paramname"><em>search_comp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the information saved in the file and allocate dynamic memory based on it. </p>
<p>Loads data from files and allocates memory for the respective struct.</p>
<p>In this option, all the information saved in the files "ficheiro_empresas.bin", "ficheiro_branch.bin" and "ficheiro_procurar.bin" is loaded and based on the value of their counters, memory is allocated for the fields that need it and all information saved in them is loaded into the corresponding struct(s). The function starts by opening one file at a time, first opening the companies file and when the process of loading the data from the file, if any, and allocating memory for the companies is finished, the same file is closed and the file of the branches of activity is opened, which performs the same process until it is closed (of loading the branches of activity and allocating memory), finally after the branches file is closed, the search companies file is opened and only the data from the file is loaded because in this struct none of the fields need dynamic memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">companies</td><td>Pointer to the <a class="el" href="struct_companies.html" title="Struct to store the companies.">Companies</a> struct. </td></tr>
    <tr><td class="paramname">branchs</td><td>Pointer to the <a class="el" href="struct_branch___activity.html" title="Struct to store the activity branches.">Branch_Activity</a> struct. </td></tr>
    <tr><td class="paramname">search_comp</td><td>Pointer to the <a class="el" href="struct_search__comp.html" title="Struct to store company search information.">Search_comp</a> struct.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the counter of the companies, branches, ratings or comments comes to 0 the value of the respective size will be 1. </dd>
<dd>
If any of the mentioned files is not created, it is created in this function. </dd>
<dd>
The fields that need dynamic memory of the companies are: companies.company (For the companies), companies.company[i].comment (For each company comment), companies.company[i].comp_class (For the company ratings) </dd>
<dd>
The field that needs dynamic memory of the branches of activity is: branchs.branch (For the branches of activity) <br  />
 </dd></dl>

<p class="definition">Definition at line <a class="el" href="inputs__file__memory_8c_source.html#l00046">46</a> of file <a class="el" href="inputs__file__memory_8c_source.html">inputs_file_memory.c</a>.</p>

</div>
</div>
<a id="a6442270bbcaf1f5b37c99b4726838e86" name="a6442270bbcaf1f5b37c99b4726838e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6442270bbcaf1f5b37c99b4726838e86">&#9670;&#160;</a></span>save_file_branchs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_file_branchs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_branch___activity.html">Branch_Activity</a> *</td>          <td class="paramname"><span class="paramname"><em>branchs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the branch activity data to a file. </p>
<p>Saves the <a class="el" href="struct_branch___activity.html" title="Struct to store the activity branches.">Branch_Activity</a> struct to a file.</p>
<p>This function stores in the file "ficheiro_branch.bin" all data from the branchs activity and the branchs counter. This function takes all the data from the <a class="el" href="struct_branch___activity.html" title="Struct to store the activity branches.">Branch_Activity</a> struct and rewrites each one in the branchs file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">branchs</td><td>Pointer to the <a class="el" href="struct_branch___activity.html" title="Struct to store the activity branches.">Branch_Activity</a> struct.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function uses the fopen, fseek, fwrite, and fclose functions from the standard library. </dd>
<dd>
This function uses the "rb+" file opening mode to read and write branchs in the file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="inputs__file__memory_8c_source.html#l00223">223</a> of file <a class="el" href="inputs__file__memory_8c_source.html">inputs_file_memory.c</a>.</p>

</div>
</div>
<a id="a79732699653e0d318db1767fd777696f" name="a79732699653e0d318db1767fd777696f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79732699653e0d318db1767fd777696f">&#9670;&#160;</a></span>save_file_comp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_file_comp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_companies.html">Companies</a> *</td>          <td class="paramname"><span class="paramname"><em>companies</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the company data to a file. </p>
<p>Saves the <a class="el" href="struct_companies.html" title="Struct to store the companies.">Companies</a> struct to a file.</p>
<p>This function stores in the file "ficheiro_empresas.bin" all data from the companies' struct (their information, their comments and their ratings) and the companies' counter. This function takes all the data from the company struct and rewrites each one in the company file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">companies</td><td>Pointer to the <a class="el" href="struct_companies.html" title="Struct to store the companies.">Companies</a> struct. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function uses the fopen, fseek, fwrite, and fclose functions from the standard library. </dd>
<dd>
This function uses the "rb+" file opening mode to read and write companies in the file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="inputs__file__memory_8c_source.html#l00188">188</a> of file <a class="el" href="inputs__file__memory_8c_source.html">inputs_file_memory.c</a>.</p>

</div>
</div>
<a id="af0319a334b810b5ffc04577ab6009047" name="af0319a334b810b5ffc04577ab6009047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0319a334b810b5ffc04577ab6009047">&#9670;&#160;</a></span>save_search_comp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_search_comp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_search__comp.html">Search_comp</a> *</td>          <td class="paramname"><span class="paramname"><em>search_comp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the search data to a file. </p>
<p>Saves the <a class="el" href="struct_search__comp.html" title="Struct to store company search information.">Search_comp</a> struct to a file.</p>
<p>This function stores in the file "ficheiro_procurar.bin" all data from the <a class="el" href="struct_search__comp.html" title="Struct to store company search information.">Search_comp</a> struct. This function takes all the data from the <a class="el" href="struct_search__comp.html" title="Struct to store company search information.">Search_comp</a> struct and rewrites each one in the search comp file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search_comp</td><td>Pointer to the <a class="el" href="struct_search__comp.html" title="Struct to store company search information.">Search_comp</a> struct.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The function uses the fopen, fseek, fwrite, and fclose functions from the standard library. </dd>
<dd>
This function uses the "rb+" file opening mode to read and write searh_Comp struct in the file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="inputs__file__memory_8c_source.html#l00251">251</a> of file <a class="el" href="inputs__file__memory_8c_source.html">inputs_file_memory.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="inputs__file__memory_8c.html">inputs_file_memory.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
